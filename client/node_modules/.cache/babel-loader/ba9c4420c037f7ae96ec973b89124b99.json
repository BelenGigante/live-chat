{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\belen\\\\bootcamp\\\\projects\\\\live-chat\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\n// Node Modules\nimport React, { useRef } from 'react';\nimport { useQuery, useLazyQuery } from '@apollo/client';\n// Utilities\nimport Auth from '../utils/auth';\nimport { QUERY_USERS, SEARCH_USERS } from '../utils/queries';\n// Components\nimport UserList from '../components/UserList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const {\n    loading,\n    data\n  } = useQuery(QUERY_USERS);\n  const [searchUsers, {\n    data: searchData\n  }] = useLazyQuery(SEARCH_USERS);\n  const users = (data === null || data === void 0 ? void 0 : data.users) || [];\n  const searchResults = (searchData === null || searchData === void 0 ? void 0 : searchData.searchUsers) || [];\n  const inputRef = useRef();\n  const renderUserList = () => {\n    if (loading) {\n      return /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(UserList, {\n        users: users,\n        title: \"List of Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  const renderUsername = () => {\n    if (!Auth.loggedIn()) return null;\n    return Auth.getProfile().data.username;\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    await searchUsers({\n      variables: {\n        term: inputRef.current.value\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ref: inputRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(UserList, {\n        users: searchResults,\n        title: \"Search Results\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: renderUsername()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: renderUserList()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"/cnXJnXZrmpcsAkgLi5tljpLk/0=\", false, function () {\n  return [useQuery, useLazyQuery];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useRef","useQuery","useLazyQuery","Auth","QUERY_USERS","SEARCH_USERS","UserList","Home","loading","data","searchUsers","searchData","users","searchResults","inputRef","renderUserList","renderUsername","loggedIn","getProfile","username","handleSubmit","event","preventDefault","variables","term","current","value"],"sources":["C:/Users/belen/bootcamp/projects/live-chat/src/pages/Home.js"],"sourcesContent":["// Node Modules\nimport React, { useRef } from 'react';\nimport { useQuery, useLazyQuery } from '@apollo/client';\n// Utilities\nimport Auth from '../utils/auth';\nimport { QUERY_USERS, SEARCH_USERS } from '../utils/queries';\n// Components\nimport UserList from '../components/UserList';\n\nconst Home = () => {\n  const { loading, data } = useQuery(QUERY_USERS);\n  const [searchUsers, { data: searchData }] = useLazyQuery(SEARCH_USERS);\n  const users = data?.users || [];\n  const searchResults = searchData?.searchUsers || [];\n  const inputRef = useRef();\n\n  const renderUserList = () => {\n    if (loading) {\n      return <h2>Loading...</h2>\n    } else {\n      return <UserList users={users} title=\"List of Users\" />\n    }\n  }\n\n  const renderUsername = () => {\n    if (!Auth.loggedIn()) return null;\n    return Auth.getProfile().data.username;\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    await searchUsers({\n      variables: {\n        term: inputRef.current.value\n      }\n    });\n  }\n\n  return (\n    <main>\n      <form onSubmit={handleSubmit}>\n        <label>Search</label>\n        <input\n          type=\"text\"\n          ref={inputRef}\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      <div>\n        <UserList\n          users={searchResults}\n          title=\"Search Results\"\n        />\n      </div>\n      <div>\n        {renderUsername()}\n      </div>\n      <div>\n        {renderUserList()}\n      </div>\n    </main>\n  );\n};\n\nexport default Home;\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,MAAM,QAAQ,OAAO;AACrC,SAASC,QAAQ,EAAEC,YAAY,QAAQ,gBAAgB;AACvD;AACA,OAAOC,IAAI,MAAM,eAAe;AAChC,SAASC,WAAW,EAAEC,YAAY,QAAQ,kBAAkB;AAC5D;AACA,OAAOC,QAAQ,MAAM,wBAAwB;AAAC;AAE9C,MAAMC,IAAI,GAAG,MAAM;EAAA;EACjB,MAAM;IAAEC,OAAO;IAAEC;EAAK,CAAC,GAAGR,QAAQ,CAACG,WAAW,CAAC;EAC/C,MAAM,CAACM,WAAW,EAAE;IAAED,IAAI,EAAEE;EAAW,CAAC,CAAC,GAAGT,YAAY,CAACG,YAAY,CAAC;EACtE,MAAMO,KAAK,GAAG,CAAAH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,KAAK,KAAI,EAAE;EAC/B,MAAMC,aAAa,GAAG,CAAAF,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAED,WAAW,KAAI,EAAE;EACnD,MAAMI,QAAQ,GAAGd,MAAM,EAAE;EAEzB,MAAMe,cAAc,GAAG,MAAM;IAC3B,IAAIP,OAAO,EAAE;MACX,oBAAO;QAAA,UAAI;MAAU;QAAA;QAAA;QAAA;MAAA,QAAK;IAC5B,CAAC,MAAM;MACL,oBAAO,QAAC,QAAQ;QAAC,KAAK,EAAEI,KAAM;QAAC,KAAK,EAAC;MAAe;QAAA;QAAA;QAAA;MAAA,QAAG;IACzD;EACF,CAAC;EAED,MAAMI,cAAc,GAAG,MAAM;IAC3B,IAAI,CAACb,IAAI,CAACc,QAAQ,EAAE,EAAE,OAAO,IAAI;IACjC,OAAOd,IAAI,CAACe,UAAU,EAAE,CAACT,IAAI,CAACU,QAAQ;EACxC,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,EAAE;IACtB,MAAMZ,WAAW,CAAC;MAChBa,SAAS,EAAE;QACTC,IAAI,EAAEV,QAAQ,CAACW,OAAO,CAACC;MACzB;IACF,CAAC,CAAC;EACJ,CAAC;EAED,oBACE;IAAA,wBACE;MAAM,QAAQ,EAAEN,YAAa;MAAA,wBAC3B;QAAA,UAAO;MAAM;QAAA;QAAA;QAAA;MAAA,QAAQ,eACrB;QACE,IAAI,EAAC,MAAM;QACX,GAAG,EAAEN;MAAS;QAAA;QAAA;QAAA;MAAA,QACd,eACF;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QAChC,eACP;MAAA,uBACE,QAAC,QAAQ;QACP,KAAK,EAAED,aAAc;QACrB,KAAK,EAAC;MAAgB;QAAA;QAAA;QAAA;MAAA;IACtB;MAAA;MAAA;MAAA;IAAA,QACE,eACN;MAAA,UACGG,cAAc;IAAE;MAAA;MAAA;MAAA;IAAA,QACb,eACN;MAAA,UACGD,cAAc;IAAE;MAAA;MAAA;MAAA;IAAA,QACb;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAEX,CAAC;AAAC,GArDIR,IAAI;EAAA,QACkBN,QAAQ,EACUC,YAAY;AAAA;AAAA,KAFpDK,IAAI;AAuDV,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module"}