{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\belen\\\\bootcamp\\\\projects\\\\live-chat\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\n// Node Modules\nimport React from 'react';\nimport { Navigate, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n// Utilities\nimport Auth from '../utils/auth';\nimport { QUERY_USERS, QUERY_USER, QUERY_ME } from '../utils/queries';\n// Components\nimport UserList from '../components/UserList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n\n  // Get current user\n  const {\n    loading,\n    data,\n    error\n  } = useQuery(id ? QUERY_USER : QUERY_ME, {\n    variables: {\n      id\n    }\n  });\n\n  // Get a list of all users\n  const {\n    usersLoading,\n    data: usersData\n  } = useQuery(QUERY_USERS);\n  const user = (data === null || data === void 0 ? void 0 : data.me) || (data === null || data === void 0 ? void 0 : data.user) || {};\n  const users = (usersData === null || usersData === void 0 ? void 0 : usersData.users) || [];\n  if (error) console.log(error);\n\n  // redirect to personal profile page if username is yours\n  if (Auth.loggedIn() && Auth.getProfile().data._id === id) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/me\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }, this);\n  }\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 12\n    }, this);\n  }\n  if (!(user !== null && user !== void 0 && user.username)) {\n    return /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"You need to be logged in to see this. Use the navigation links above to sign up or log in!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this);\n  }\n  const renderUserList = () => {\n    if (usersLoading) return null;\n    // Only renders users who's profile we're not currently viewing\n    const notMeUsers = users.filter(o => o._id !== user._id);\n    return /*#__PURE__*/_jsxDEV(UserList, {\n      users: notMeUsers,\n      title: \"User List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  };\n  const renderCurrentUserInfo = () => {\n    if (id) return null;\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"username: \", user.username]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [\"email: \", user.email]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Viewing \", id ? `${user.username}'s` : 'your', \" profile.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), renderCurrentUserInfo(), renderUserList()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"MpctalIo4AvjceJHlODLBFZ7DnU=\", false, function () {\n  return [useParams, useQuery, useQuery];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","Navigate","useParams","useQuery","Auth","QUERY_USERS","QUERY_USER","QUERY_ME","UserList","Profile","id","loading","data","error","variables","usersLoading","usersData","user","me","users","console","log","loggedIn","getProfile","_id","username","renderUserList","notMeUsers","filter","o","renderCurrentUserInfo","email"],"sources":["C:/Users/belen/bootcamp/projects/live-chat/src/pages/Profile.js"],"sourcesContent":["// Node Modules\nimport React from 'react';\nimport { Navigate, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n// Utilities\nimport Auth from '../utils/auth';\nimport { QUERY_USERS, QUERY_USER, QUERY_ME } from '../utils/queries';\n// Components\nimport UserList from '../components/UserList';\n\nconst Profile = () => {\n  const { id } = useParams();\n\n  // Get current user\n  const { loading, data, error } = useQuery(id ? QUERY_USER : QUERY_ME, {\n    variables: { id },\n  });\n\n  // Get a list of all users\n  const { usersLoading, data: usersData } = useQuery(QUERY_USERS);\n\n  const user = data?.me || data?.user || {};\n  const users = usersData?.users || [];\n\n  if (error) console.log(error);\n\n  // redirect to personal profile page if username is yours\n  if (Auth.loggedIn() && Auth.getProfile().data._id === id) {\n    return <Navigate to=\"/me\" replace />;\n  }\n\n  if (loading) {\n    return <h4>Loading...</h4>;\n  }\n\n  if (!user?.username) {\n    return (\n      <h4>\n        You need to be logged in to see this. Use the navigation links above to\n        sign up or log in!\n      </h4>\n    );\n  }\n\n  const renderUserList = () => {\n    if (usersLoading) return null;\n    // Only renders users who's profile we're not currently viewing\n    const notMeUsers = users.filter(o => o._id !== user._id);\n    return <UserList users={notMeUsers} title=\"User List\" />;\n  };\n\n  const renderCurrentUserInfo = () => {\n    if (id) return null;\n    return (\n      <ul>\n        <li>username: {user.username}</li>\n        <li>email: {user.email}</li>\n      </ul>\n    );\n  }\n\n  return (\n    <div>\n      <div>\n        <h2>\n          Viewing {id ? `${user.username}'s` : 'your'} profile.\n        </h2>\n        {renderCurrentUserInfo()}\n        {renderUserList()}\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}