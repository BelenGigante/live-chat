{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\belen\\\\bootcamp\\\\projects\\\\live-chat\\\\src\\\\pages\\\\Signup.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\nimport Auth from '../utils/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [addUser, {\n    error,\n    data\n  }] = useMutation(ADD_USER);\n  const handleChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value\n    });\n  };\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n    try {\n      const {\n        data\n      } = await addUser({\n        variables: {\n          ...formState\n        }\n      });\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const renderForm = () => {\n    if (data) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Success! You may now head\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"back to the homepage.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Your username\",\n        name: \"username\",\n        type: \"text\",\n        value: formState.name,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Your email\",\n        name: \"email\",\n        type: \"email\",\n        value: formState.email,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"******\",\n        name: \"password\",\n        type: \"password\",\n        value: formState.password,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [renderForm(), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(Signup, \"2HV3XTIjqXk6IPJDFqmjWCroeoc=\", false, function () {\n  return [useMutation];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","Link","useMutation","ADD_USER","Auth","Signup","formState","setFormState","username","email","password","addUser","error","data","handleChange","event","name","value","target","handleFormSubmit","preventDefault","variables","login","token","e","console","renderForm","message"],"sources":["C:/Users/belen/bootcamp/projects/live-chat/src/pages/Signup.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useMutation } from '@apollo/client';\nimport { ADD_USER } from '../utils/mutations';\n\nimport Auth from '../utils/auth';\n\nconst Signup = () => {\n  const [formState, setFormState] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n  const [addUser, { error, data }] = useMutation(ADD_USER);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await addUser({\n        variables: { ...formState },\n      });\n\n      Auth.login(data.addUser.token);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const renderForm = () => {\n    if (data) {\n      return (\n      <p>\n        Success! You may now head{' '}\n        <Link to=\"/\">back to the homepage.</Link>\n      </p>\n      )\n    } \n    return (\n      <form onSubmit={handleFormSubmit}>\n        <input\n          placeholder=\"Your username\"\n          name=\"username\"\n          type=\"text\"\n          value={formState.name}\n          onChange={handleChange}\n        />\n        <input\n          placeholder=\"Your email\"\n          name=\"email\"\n          type=\"email\"\n          value={formState.email}\n          onChange={handleChange}\n        />\n        <input\n          placeholder=\"******\"\n          name=\"password\"\n          type=\"password\"\n          value={formState.password}\n          onChange={handleChange}\n        />\n        <button type=\"submit\">\n          Submit\n        </button>\n      </form>\n    );\n  };\n\n  return (\n    <main>\n      <h4>Sign Up</h4>\n      <div>\n        {renderForm()}\n        {error && <div>{error.message}</div>}\n      </div>\n    </main>\n  );\n};\n\nexport default Signup;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,IAAI,QAAQ,kBAAkB;AAEvC,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,QAAQ,QAAQ,oBAAoB;AAE7C,OAAOC,IAAI,MAAM,eAAe;AAAC;AAEjC,MAAMC,MAAM,GAAG,MAAM;EAAA;EACnB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC;IACzCQ,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,QAAQ,EAAE;EACZ,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAE;IAAEC,KAAK;IAAEC;EAAK,CAAC,CAAC,GAAGX,WAAW,CAACC,QAAQ,CAAC;EAExD,MAAMW,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;IAEpCX,YAAY,CAAC;MACX,GAAGD,SAAS;MACZ,CAACU,IAAI,GAAGC;IACV,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,gBAAgB,GAAG,MAAOJ,KAAK,IAAK;IACxCA,KAAK,CAACK,cAAc,EAAE;IAEtB,IAAI;MACF,MAAM;QAAEP;MAAK,CAAC,GAAG,MAAMF,OAAO,CAAC;QAC7BU,SAAS,EAAE;UAAE,GAAGf;QAAU;MAC5B,CAAC,CAAC;MAEFF,IAAI,CAACkB,KAAK,CAACT,IAAI,CAACF,OAAO,CAACY,KAAK,CAAC;IAChC,CAAC,CAAC,OAAOC,CAAC,EAAE;MACVC,OAAO,CAACb,KAAK,CAACY,CAAC,CAAC;IAClB;EACF,CAAC;EAED,MAAME,UAAU,GAAG,MAAM;IACvB,IAAIb,IAAI,EAAE;MACR,oBACA;QAAA,WAAG,2BACwB,EAAC,GAAG,eAC7B,QAAC,IAAI;UAAC,EAAE,EAAC,GAAG;UAAA,UAAC;QAAqB;UAAA;UAAA;UAAA;QAAA,QAAO;MAAA;QAAA;QAAA;QAAA;MAAA,QACvC;IAEN;IACA,oBACE;MAAM,QAAQ,EAAEM,gBAAiB;MAAA,wBAC/B;QACE,WAAW,EAAC,eAAe;QAC3B,IAAI,EAAC,UAAU;QACf,IAAI,EAAC,MAAM;QACX,KAAK,EAAEb,SAAS,CAACU,IAAK;QACtB,QAAQ,EAAEF;MAAa;QAAA;QAAA;QAAA;MAAA,QACvB,eACF;QACE,WAAW,EAAC,YAAY;QACxB,IAAI,EAAC,OAAO;QACZ,IAAI,EAAC,OAAO;QACZ,KAAK,EAAER,SAAS,CAACG,KAAM;QACvB,QAAQ,EAAEK;MAAa;QAAA;QAAA;QAAA;MAAA,QACvB,eACF;QACE,WAAW,EAAC,QAAQ;QACpB,IAAI,EAAC,UAAU;QACf,IAAI,EAAC,UAAU;QACf,KAAK,EAAER,SAAS,CAACI,QAAS;QAC1B,QAAQ,EAAEI;MAAa;QAAA;QAAA;QAAA;MAAA,QACvB,eACF;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAC;MAEtB;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ;EAEX,CAAC;EAED,oBACE;IAAA,wBACE;MAAA,UAAI;IAAO;MAAA;MAAA;MAAA;IAAA,QAAK,eAChB;MAAA,WACGY,UAAU,EAAE,EACZd,KAAK,iBAAI;QAAA,UAAMA,KAAK,CAACe;MAAO;QAAA;QAAA;QAAA;MAAA,QAAO;IAAA;MAAA;MAAA;MAAA;IAAA,QAChC;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAEX,CAAC;AAAC,GA/EItB,MAAM;EAAA,QAMyBH,WAAW;AAAA;AAAA,KAN1CG,MAAM;AAiFZ,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module"}